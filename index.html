<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Longest Day</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- New Viewport Wrapper -->
    <div id="viewport-container">
        <div id="game-container">
            <canvas id="game-canvas" width="1440" height="896"></canvas> <!-- Ensure canvas size matches container base -->
            <div id="ui-layer">
                <!-- === STATS PANEL HTML === -->
                <div id="stats-panel">
                    <!-- Health Bar -->
                    <div class="stat-container">
                        <span class="stat-label">Health:</span>
                        <div class="stat-bar-outer">
                            <div id="health-bar-inner" class="stat-bar-inner"></div>
                            <span id="health-text" class="stat-text">100/100</span>
                        </div>
                    </div>
                    <!-- Hunger Bar -->
                    <div class="stat-container">
                         <span class="stat-label">Hunger:</span>
                         <div class="stat-bar-outer">
                            <div id="hunger-bar-inner" class="stat-bar-inner"></div>
                             <span id="hunger-text" class="stat-text">100/100</span>
                        </div>
                    </div>
                     <!-- Thirst Bar -->
                    <div class="stat-container">
                        <span class="stat-label">Thirst:</span>
                        <div class="stat-bar-outer">
                            <div id="thirst-bar-inner" class="stat-bar-inner"></div>
                             <span id="thirst-text" class="stat-text">100/100</span>
                        </div>
                    </div>
                    <!-- Day Bar (Time Progress) -->
                    <div class="stat-container">
                        <span class="stat-label">Day <span id="day-value">1</span>:</span>
                        <div class="stat-bar-outer">
                            <div id="day-bar-inner" class="stat-bar-inner"></div>
                             <span id="day-text" class="stat-text">Morning</span> <!-- Text updated by JS -->
                        </div>
                    </div>
                </div>
                <!-- === END STATS PANEL HTML === -->

                <!-- === INVENTORY PANEL HTML === -->
                <div id="inventory-panel">
                    <button id="inv-nav-left" class="inv-nav-button">‚Üê</button>
                    <div id="inventory-slots-container">
                        <!-- Slots generated by JS -->
                    </div>
                    <button id="inv-nav-right" class="inv-nav-button">‚Üí</button>
                </div>
                <!-- === END INVENTORY PANEL HTML === -->

                <!-- === OTHER UI ELEMENTS === -->
                <div id="tooltip-area">Tooltip text here</div>
                <div id="crafting-panel">
                    <h3>Crafting</h3>
                    <!-- Crafting buttons generated by JS -->
                    <button id="close-crafting">Close</button>
                </div>
                <div id="day-night-indicator"></div>
                <div id="message-box"></div>
                <div id="interaction-prompt"></div>
                <div id="game-over">
                    <h2 id="game-over-title">Game Over</h2>
                    <div id="days-survived">You survived for 0 days</div>
                    <button id="restart-button">Play Again</button>
                </div>
                <!-- === END OTHER UI ELEMENTS === -->

                <!-- ***** START NEW HELP BUTTON ***** -->
                <button id="help-button" title="Show Help">?</button>
                <!-- ***** END NEW HELP BUTTON ***** -->

                <!-- ***** START NEW HELP PANEL (Initially Hidden) ***** -->
                <div id="help-panel">
                     <h3>How to Play</h3>
                     <div id="help-content">
                         <!-- Copied and slightly adjusted from title screen instructions -->
                         <p>You are stranded on a deserted island. Survive as long as possible!</p>
                         <p><b>WASD</b> or <b>Arrow Keys</b> to move</p>
                         <p><b>E</b> to interact/collect resources/add fuel/use purifier/pick up shelter (or exit shelter if inside)</p>
                         <p><b>C</b> to open/close crafting menu</p>
                         <p><b>1-5</b> to select VISIBLE inventory slot</p>
                         <p><b>Space</b> to use selected item (eat food, place objects)</p>
                         <p><b>‚Üê</b> / <b>‚Üí</b> buttons (or click) to navigate inventory</p>
                         <p><b>Click</b> a placed Shelter to enter/exit it for protection.</p>
                         <p><b>P</b> to Pause/Resume game</p> <!-- ADDED PAUSE INFO -->
                         <p><i>Survive past Day 3 and keep a large signal fire lit for a chance of rescue!</i></p>
                     </div>
                     <button id="help-pause-button" class="help-panel-action-button">Pause Game (P)</button>
                     <button id="help-main-menu-button" class="help-panel-action-button">Main Menu</button>
                     <button id="close-help-panel">Close</button>
                </div>
                <!-- ***** END NEW HELP PANEL ***** -->


                <!-- === TITLE SCREEN HTML === -->
                <div id="title-screen">
                    <h1>The Longest Day</h1>

                    <div id="instructions">
                         <p>You are stranded on a deserted island. Survive as long as possible!</p>
                         <p><b>WASD</b> or <b>Arrow Keys</b> to move</p>
                         <p><b>E</b> to interact/collect resources/add fuel/use purifier/pick up shelter (or exit shelter if inside)</p>
                         <p><b>C</b> to open/close crafting menu</p>
                         <p><b>1-5</b> to select VISIBLE inventory slot</p>
                         <p><b>Space</b> to use selected item (eat food, place objects)</p>
                         <p><b>‚Üê</b> / <b>‚Üí</b> buttons (or click) to navigate inventory</p>
                         <p><b>Click</b> a placed Shelter to enter/exit it for protection.</p>
                         <p><b>P</b> to Pause/Resume game</p> <!-- ADDED PAUSE INFO -->
                         <p><i>Survive past Day 3 and keep a large signal fire lit for a chance of rescue!</i></p>
                    </div>

                    <div id="title-buttons">
                        <button id="start-button" class="title-button">‚ñ∂ Start Game</button>
                        <button id="show-leaderboard-button-title" class="title-button">üèÜ Leaderboard</button>
                    </div>
                </div>
                <!-- === END TITLE SCREEN HTML === -->


                 <!-- ===== START NEW LEADERBOARD PANEL HTML ===== -->
                <div id="leaderboard-panel">
                     <h2>Leaderboard</h2>
                     <div id="leaderboard-content">
                         <div class="leaderboard-section">
                             <h3>Longest Days Survived</h3>
                             <ol id="lb-days"></ol>
                         </div>
                         <div class="leaderboard-section">
                             <h3>Most Items Collected</h3>
                             <ol id="lb-items"></ol>
                         </div>
                          <div class="leaderboard-section">
                             <h3>Most Fish Caught</h3>
                             <ol id="lb-fish"></ol>
                         </div>
                     </div>
                     <button id="copy-leaderboard-button">Copy Results</button>
                     <button id="close-leaderboard">Close</button>
                </div>
                 <!-- ===== END NEW LEADERBOARD PANEL HTML ===== -->

                <!-- === START PAUSE POPUP === -->
                <div id="pause-popup">
                    <h2>Paused</h2>
                    <button id="resume-button" class="title-button">Resume</button>
                    <button id="main-menu-button" class="title-button">Main Menu</button>
                </div>
                <!-- === END PAUSE POPUP === -->

            </div> <!-- Close UI Layer -->
        </div> <!-- Close game-container -->
    </div> <!-- Close viewport-container -->

    <!-- ===== AUDIO ELEMENT ===== -->
    <audio id="background-audio" loop preload="auto">
        <source src="hope.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <!-- ===== END AUDIO ELEMENT ===== -->

    <!-- Load the combined JS file -->
    <script src="game.js" defer></script>

</body>
</html>
